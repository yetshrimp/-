## TEG 腾讯云 后端一面复盘

- 面试完内心戏

  - 没有了,没有二面了

    

- 面试体验

  - 面试官很好人，会各种引导。当然有时候会用确定吗真的吗的语气，给我造成压力哈哈哈。然后就是每次问我有没有阅读过 xxx 的源码，我回答没有的时候。他都挺失望的，会说行吧，令人害怕。最后就是因为确实有很多知识没有了解，所以用了不少可能、应该等语气词，这应该是面试大忌，最后他也提醒我不要靠猜去回答问题。

    

- 面试形式

  - 本来是定了下午三点腾讯会议的，不过网络太差就改成电话面了

    

- 面试流程

  - 自我介绍

  - 简单地聊了下项目，因为我的项目写的是做了网关，就大概问了 token 验证的一些细节，第二个项目直接跳过了，淘宝在项目上的时间大概是 20 - 30 分钟，腾讯云只给了 不到几分钟，估计是项目没有太大亮点以及和岗位需求不匹配。

  - 接下来的 20 多分钟是基础知识时间，然后面试官不会给你闲扯和展开的机会，这点和淘宝当时的体验不太一样，也可能是个人风格的吧。这种情况就不要随便试图引导面试节奏了，还是要正面、精准地回答面试官。

  - 接着 10 来分钟是两道算法题，描述思路，可惜没想出来，算法确实是我的弱项。

  - 最后几分钟是唠嗑时间，一个是问了平常从什么渠道获取知识，说了 Github 后继续问 star 过最喜欢的项目，然后会根据回答问你项目的一些细节或者情况。说完之后面试就差不多结束了，然后问了面试官几个问题，整场面试下来的时间，不到 1 小时，比淘宝一面略短，但节奏紧凑很多。

    

- 基础知识 *Q & A*

  - Q：`开发环境`

    A：`jdk 1.8 + Linux`

    

  - Q：`项目里有没有试过 JVM 优化，说说垃圾回收`

    A：`无，然后大概说了下，GC 分代，垃圾回收算法和一些垃圾回收器的基本情况`

    

  - Q：`Eden 比例什么时候调大点，什么时候小一点`

    A：`频繁创建对象 Eden 应该大点，避免频繁的 Minor GC 对象太大了应该调小点，避免分配担保带来的开销。`

    > 这里其实不太确定，只能说我浅浅的知识给出了这个答案

    

  - Q：`有使用过什么容器起吗，介绍下 List`

    A：`大概说了下 ArrayList 底层是 Object [] LinkedList 底层是双向链表`

    

  - Q：`怎么设计一个容器，结合上面的优点`

    A：`考虑 Segment ，多个 Object[] 数组实现`

    > 这种开放性问题还是懵，所以只好强答了，平常还是缺乏深入思考

  

  - Q：`Linux 有用过什么命令来查看状态吗`

    A：`netstat 大概说一下`

    

  - Q：`有用过 free 吗，buffer cache 说一下`

    A：`buffer cache 简单说说`

    

  - Q：`Java 可以访问 cache 吗，比如堆内存耗尽的情况`

    A：`NIO 的 Channel 和 Buffer 可以直接映射到直接内存，其他对象只能在堆内存里面`

    > 从这里开始不确定的问题越来越多了

    

  - Q：`调用 read() 函数的一整套流程`

    A：`切换成内核态，线程等待，开始从磁盘读取数据balabala`

    > 以上，大概是和面试官想听到的相去甚远，因为他说了第一句行吧，哈哈哈哈

    

  - Q：`问简单点，read() 函数执行后怎么访问磁盘的`

    A：`文件描述符找索引，然后balabala`

    > 啊，read() 函数的具体流程真的不清楚，这里也是大概的一个访问文件系统的流程，但我记不太清了。再一次，和面试官想听的背道而驰

    

  - Q：`swap 的虚拟地址是高位还是低位`

    A：`高位，虚拟地址都是高位`

    > 因为面试官问了确定吗，所以这里我不是很确定，准确的说我不确定这里的虚拟地址高位和我理解的虚页号是不是一个东西

    

  - Q：`磁盘一次读取的大小`

    A：`4K？读一页`

    > 面试官说到了扇区 512 字节，当时只想着内存页大小了，或许应该说簇？不知道磁盘读写还有没有别的基本单位

    

  - Q：`HTTPS`

    A：`知道的不是很详细，大概说了下验证证书，协商加密算法，加密传递数据`

    

  - Q：`TCP`

    A：`说了一些基本概念`

    

  - Q：`有实际用过计算机网络的知识编程吗`

    A：`写过 P2P，用的 QT 提供的 Socket库`

    

  - Q：`有读过 QT 源码吗`

    A：`没有……`

    > 这里面试官有些失望

    

  - Q：`本机的程序之间通信可以吗，能不能获得网卡地址吗`

    A：`因为做过实验，说了可以，想当然认为网卡地址也是可以获取的。然后面试官提醒后想到 ARP 没有必要解析回环地址的 MAC 地址，而且没有在通信链路上跑应该不需要数据链路层协议？然后答了不需要获取`

    

  - Q：`你说到了 TCP 的四次挥手，那如果一方关闭连接，另一方不关闭会发生什么情况，怎么处理`

    A：`一开始以为问的是关闭连接时的等待计时器，后来才听明白。想了想如果主动关闭连接的是服务端，客户端如果一直保持连接可以考虑手动关闭。相反情况，可以利用心跳信息`

  

  - Q：`那心跳信息是 TCP 还是 UDP`

    A：`TCP，然后想了想我又回答 UDP，最后说我不知道哈哈哈`

    > 哈哈哈，猜测的东西越来越多了

    

  - 基础知识应该还问了一些别的，但我忘了哈哈哈

    

- 算法 *Q & A*

  - Q：`查找数组中超过一半的数`

    A：`这个剑指有，我就说了快排找中位数和根据标识变量两个方法`

    

  - Q：`你说到了快排，有看过 Java sort 的源码吗`

    A：`没有……`

    > 面试官又失望了

    

  - Q：`不规定出现超过一半，怎么查，时间复杂度`

    A：`HashMap，O(n)`

    

  - Q：`真的是 O(n)吗`

    A：`HashMap 的话，那可能不行，存在哈希冲突等可能`

    

  - Q：`如果采用 Map 呢`

    A：`这里面试官提醒了一下是红黑树构建的 Map 但我没有啥了解，就大概猜了下插入复杂度是 O(log n)，这道题算是马马虎虎答完了`

    

  - Q：`设计库函数求平均值`

    A：`一开始没有意识到边界条件，以为是送分题哈哈哈哈。结果面试官提醒后卡了很久没答出来，虽然对方超级耐心，一直在提示，不过还是没有想到怎么做溢出的处理`

    > 害，算法菜鸡真的心痛

    

- Github star 过的项目

  - 一下子不知道该说哪个，因为最近 star 的很多都是一些面经、Java 开发知识等。什么最后想了想就说了消息队列，结果刚好我简历有用到 Kafka，面试官就让我说说 RocketMQ 和 Kafka 最主要的区别

  - 应该是存储机制吧我感觉，然后大概说了一点



- 一些建议

  - 对系统、网络等知识的掌握可以帮助代码的调优

  - 回答不能靠猜

  - 不能但靠书获取知识

  - 想问题应该深入一点

    

- 最后我弱弱地问了一下面试官是哪个部门的，然后发现是腾讯云做存储的……害，作为一个只会写业务逻辑的菜鸡，果然搞面试前突击还是不太行的